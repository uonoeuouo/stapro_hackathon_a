{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/attendance/status":{"post":{"operationId":"AttendanceController_checkStatus","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckStatusDto"}}}},"responses":{"200":{"description":"Employee found"},"404":{"description":"Unknown card"}},"summary":"Check card status and get employee info","tags":["attendance"]}},"/attendance/clock-in":{"post":{"operationId":"AttendanceController_clockIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClockInDto"}}}},"responses":{"201":{"description":""}},"summary":"Clock in","tags":["attendance"]}},"/attendance/clock-out":{"post":{"operationId":"AttendanceController_clockOut","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClockOutDto"}}}},"responses":{"201":{"description":""}},"summary":"Clock out","tags":["attendance"]}},"/attendance/{id}":{"delete":{"operationId":"AttendanceController_cancel","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Cancel last action","tags":["attendance"]}},"/commute-templates":{"post":{"operationId":"CommuteTemplateController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommuteTemplateDto"}}}},"responses":{"201":{"description":""}},"summary":"Create a new commute template","tags":["commute-templates"]}},"/commute-templates/employee/{employeeId}":{"get":{"operationId":"CommuteTemplateController_findAll","parameters":[{"name":"employeeId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get all templates for an employee","tags":["commute-templates"]}},"/commute-templates/{id}":{"get":{"operationId":"CommuteTemplateController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get a template by ID","tags":["commute-templates"]},"put":{"operationId":"CommuteTemplateController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCommuteTemplateDto"}}}},"responses":{"200":{"description":""}},"summary":"Update a template","tags":["commute-templates"]},"delete":{"operationId":"CommuteTemplateController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Delete a template","tags":["commute-templates"]}},"/employees/{employeeId}/cards":{"get":{"operationId":"CardController_listCards","parameters":[{"name":"employeeId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Returns list of cards"},"404":{"description":"Employee not found"}},"summary":"Get all cards for an employee","tags":["cards"]},"post":{"operationId":"CardController_createCard","parameters":[{"name":"employeeId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCardDto"}}}},"responses":{"201":{"description":"Card created successfully"},"404":{"description":"Employee not found"},"409":{"description":"Card ID already registered"}},"summary":"Register a new card for an employee","tags":["cards"]}},"/employees/{employeeId}/cards/{cardId}":{"patch":{"operationId":"CardController_updateCard","parameters":[{"name":"employeeId","required":true,"in":"path","schema":{"type":"number"}},{"name":"cardId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCardDto"}}}},"responses":{"200":{"description":"Card updated successfully"},"404":{"description":"Card not found"}},"summary":"Update a card","tags":["cards"]},"delete":{"operationId":"CardController_deleteCard","parameters":[{"name":"employeeId","required":true,"in":"path","schema":{"type":"number"}},{"name":"cardId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"204":{"description":"Card deleted successfully"},"404":{"description":"Card not found"}},"summary":"Delete a card","tags":["cards"]}},"/employees":{"get":{"operationId":"EmployeeController_findAll","parameters":[],"responses":{"200":{"description":"Return all employees."}},"summary":"Get all employees","tags":["employees"]}}},"info":{"title":"Attendance API","description":"API for iPad Attendance App","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CheckStatusDto":{"type":"object","properties":{"card_id":{"type":"string","example":"0123456789ABCDEF"},"terminal_id":{"type":"string","example":"iPad-01"},"client_timestamp":{"type":"string","example":"2023-10-27T09:00:00Z"}},"required":["card_id","terminal_id","client_timestamp"]},"ClockInDto":{"type":"object","properties":{"employee_id":{"type":"number","example":1},"terminal_id":{"type":"string","example":"iPad-01"},"client_timestamp":{"type":"string","example":"2023-10-27T09:00:00Z"}},"required":["employee_id","terminal_id","client_timestamp"]},"ClockOutDto":{"type":"object","properties":{"attendance_id":{"type":"number","example":1},"commute_info":{"type":"object","example":{"template_id":1,"cost":500}},"client_timestamp":{"type":"string","example":"2023-10-27T18:00:00Z"}},"required":["attendance_id","commute_info","client_timestamp"]},"CreateCommuteTemplateDto":{"type":"object","properties":{"employee_id":{"type":"number","example":1,"description":"Employee ID"},"name":{"type":"string","example":"Train (Home -> Office)","description":"Name of the template"},"cost":{"type":"number","example":500,"description":"Cost in JPY"},"route_description":{"type":"string","example":"Shinjuku -> Tokyo","description":"Route description"}},"required":["employee_id","name","cost"]},"UpdateCommuteTemplateDto":{"type":"object","properties":{"employee_id":{"type":"number","example":1,"description":"Employee ID"},"name":{"type":"string","example":"Train (Home -> Office)","description":"Name of the template"},"cost":{"type":"number","example":500,"description":"Cost in JPY"},"route_description":{"type":"string","example":"Shinjuku -> Tokyo","description":"Route description"}}},"CreateCardDto":{"type":"object","properties":{"cardId":{"type":"string","description":"The NFC card ID","example":"CARD12345678"},"name":{"type":"string","description":"Optional name for the card","example":"Main Card"}},"required":["cardId"]},"UpdateCardDto":{"type":"object","properties":{"name":{"type":"string","description":"Optional name for the card","example":"Backup Card"},"is_active":{"type":"boolean","description":"Whether the card is active","example":true}}}}}}